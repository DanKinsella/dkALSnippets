{
	"External POS Command": {
		"prefix": [
			"dkLSExtPOSCommand"
		],
		"body": [
			"codeunit ${1:CodeunitId} \"${2:CodeunitName}\"",
			"{",
			"\tSingleInstance = true;",
			"\tTableNo = \"POS Menu Line\";",
			"",
			"\ttrigger OnRun()",
			"\tbegin",
			"\t\tif \"Registration Mode\" then",
			"\t\t\tRegister(Rec)",
			"\t\telse",
			"\t\t\tcase Command of",
			"\t\t\t\tGetHelloWorldCommand():",
			"\t\t\t\t\tHelloWorld();",
			"\t\t\tend;",
			"\tend;",
			"",
			"\tlocal procedure Register(var POSMenuLine: Record \"POS Menu Line\")",
			"\tvar",
			"\t\tPOSCommandReg: Codeunit \"POS Command Registration\";",
			"\t\tModuleCode: Label '${3:ModuleName}', Locked = true;",
			"\t\tModuleDescription: Label '${4:ModuleDescription}';",
			"\t\tHelloWorldCommandDesc: Label 'Say hello.';",
			"\t\tCurrCodeunitId: Integer;",
			"\tbegin",
			"\t\tCurrCodeunitId := ${1:CodeunitId};",
			"",
			"\t\tPOSCommandReg.RegisterModule(ModuleCode, ModuleDescription, CurrCodeunitId);",
			"\t\tPOSCommandReg.RegisterExtCommand(GetHelloWorldCommand(), HelloWorldCommandDesc, CurrCodeunitId, 0, ModuleCode, true);",
			"",
			"\t\tPOSMenuLine.\"Registration Mode\" := false;",
			"\tend;",
			"",
			"\tprocedure GetHelloWorldCommand() : Code[20]",
			"\tvar",
			"\t\tHelloWorldCommand: Label 'HELLOWORLD', locked = true;",
			"\tbegin",
			"\t\texit(HelloWorldCommand);",
			"\tend;",
			"",
			"\tprocedure HelloWorld()",
			"\tvar",
			"\t\tHelloWorldMsg: Label 'Hello World!';",
			"\tbegin",
			"\t\tMessage(HelloWorldMsg);",
			"\tend;",
			"}"
		],
		"description": "LS External POS Command Codeunit"
	}
}